# Ruby on Rails Technical Interview Questions:


## Basic
#### 1. What is MVC?
MVC stands for **Model-View-Controller**. It is a design pattern used in Rails to separate concerns in an application:

- **Model**: Represents the data and business logic of the application. It interacts with the database to retrieve and store information.
- **View**: The presentation layer that displays the data to the user. It is typically HTML or JSON for web apps.
- **Controller**: Acts as an intermediary between the Model and View. It processes user input, calls the necessary model methods, and renders the appropriate view.

#### Example:
```
# Model
class Post < ApplicationRecord
  validates :title, presence: true
end

# Controller
class PostsController < ApplicationController
  def show
    @post = Post.find(params[:id])
  end
end

# View (show.html.erb)
<h1><%= @post.title %></h1>
<p><%= @post.body %></p>

```
#### 2. What is ActiveRecord?
ActiveRecord is the Object-Relational Mapping (ORM) layer in Rails that facilitates communication between the application and the database. It maps database tables to Ruby classes, allowing you to interact with the database using Ruby objects.

ActiveRecord automatically handles CRUD operations.
It allows you to query, insert, update, and delete database records without needing to write raw SQL.
Example:
```
# Finding a record
user = User.find(1)

# Creating a new record
user = User.create(name: "John", email: "john@example.com")

# Updating a record
user.update(name: "John Doe")

# Deleting a record
user.destroy
```
#### 3. What are callbacks in Rails?
Callbacks in Rails are methods that get called at certain points of an object's lifecycle. They allow you to hook into and modify the behavior of ActiveRecord objects before or after certain events, such as saving, updating, or destroying records.

Common Callbacks:
before_save, after_save
before_create, after_create
before_update, after_update
before_destroy, after_destroy
Example:
```

class Post < ApplicationRecord
  before_save :set_default_title

  private

  def set_default_title
    self.title = "Untitled" if title.blank?
  end
end
```
#### 4. What is mass assignment?
Mass assignment occurs when you assign values to multiple attributes of an object at once, typically using the update or create methods. This is a feature in Rails that lets you assign values to several attributes in a single step.

Mass assignment vulnerability occurs when an attacker can update attributes that they shouldn't be allowed to, such as sensitive fields.

Example of mass assignment:
```
# Allowed attributes: name, email
user = User.new(name: "John", email: "john@example.com", admin: true)  # admin should not be assignable!
Follow-up: How do you protect your app against it?
You can prevent mass assignment vulnerabilities by using strong parameters in Rails, which explicitly define which attributes are allowed to be mass-assigned.



class UsersController < ApplicationController
  def user_params
    params.require(:user).permit(:name, :email)  # Only allow name and email
  end
end
```


#### 5. What is CSRF?
Cross-Site Request Forgery (CSRF) is an attack where a malicious website can send unauthorized requests to a web application where the user is already authenticated. It tricks the user into performing an unintended action.

Follow-up: How is it handled in Rails?
Rails protects against CSRF by using a CSRF token. This token is generated on each form and ensures that the request came from your site and not from an external source.

Rails includes the token in every form by default, and it’s checked on form submissions.

Example:
```
<%= form_with(url: posts_path, method: :post) do %>
  <%= text_field_tag :title %>
  <%= submit_tag "Create Post" %>
<% end %>
```
Rails automatically includes a hidden CSRF token in forms generated by form_with.

#### 6. How do you handle database migrations in Rails?
Database migrations in Rails are used to manage changes to the database schema over time. They allow you to version-control your database structure, making it easy to roll back or apply changes.

Migrations are stored in files in the db/migrate directory.
They can be run using rails db:migrate.
Example:
```
# Migration to add a title column to the posts table
class AddTitleToPosts < ActiveRecord::Migration[6.0]
  def change
    add_column :posts, :title, :string
  end
end
Run the migration:

rails db:migrate
```
#### 7. What is a scope?
A scope in Rails is a way to define commonly-used queries that can be reused throughout the application. It’s defined within the model and is typically used to simplify querying the database.

Example:
```
class Post < ApplicationRecord
  scope :published, -> { where(published: true) }
  scope :recent, -> { order(created_at: :desc).limit(5) }
end

# Usage
Post.published.recent
```
#### 8. What is the difference between has_one and belongs_to?
has_one: This association indicates that one object can have one related object. It is typically used on the "one" side of a relationship.
belongs_to: This association indicates that an object belongs to another object. It is used on the "many" side of the relationship.
Example:
```
class Author < ApplicationRecord
  has_one :profile  # Author has one profile
end

class Profile < ApplicationRecord
  belongs_to :author  # Profile belongs to an author
end

In this case, an Author has one Profile, and a Profile belongs to an Author.
```
#### 9. What is Rails Console, and how do you use it?
The Rails Console (rails console or rails c) is an interactive REPL (Read-Eval-Print Loop) that allows developers to run Ruby and Rails commands inside an application’s environment.

Usage:

```
rails console  # Start console in default (development) mode
rails console --sandbox  # Run console with changes rolled back after exit
rails console production  # Start console in production environment
Example:

# Create a new user
user = User.create(name: "Alice", email: "alice@example.com")

# Find a user
user = User.find_by(email: "alice@example.com")

# Update a user
user.update(name: "Alice Doe")

# Delete a user
user.destroy

etc
```
#### 10. What are before_action, after_action, and skip_before_action?
These controller filters in Rails run specific code before or after an action.
```
before_action
Runs before the controller action.

class ArticlesController < ApplicationController
  before_action :authenticate_user

  def index
    @articles = Article.all
  end

  private

  def authenticate_user
    redirect_to login_path unless current_user
  end
end
after_action
Runs after the action is executed.


class ArticlesController < ApplicationController
  after_action :log_activity

  def show
    @article = Article.find(params[:id])
  end

  private

  def log_activity
    Rails.logger.info("Article viewed at #{Time.now}")
  end
end
skip_before_action
Skips the execution of a before_action for certain actions.

class ArticlesController < ApplicationController
  before_action :authenticate_user
  skip_before_action :authenticate_user, only: [:index, :show]

  def index
    @articles = Article.all
  end
end
```
#### 11. What are Strong Parameters? Why are they needed?
Strong parameters prevent mass assignment vulnerabilities by requiring attributes to be explicitly permitted.

Unsafe (Vulnerable to Mass Assignment Attack)

```
user = User.new(params[:user]) # An attacker can set `admin: true`
Safe Approach (Strong Parameters)

class UsersController < ApplicationController
  def create
    @user = User.new(user_params)
    @user.save
  end

  private

  def user_params
    params.require(:user).permit(:name, :email)
  end
end
```

#### 12. How do you define routes in Rails?
Routes define URL patterns and corresponding controller actions.
```
Basic Routes (config/routes.rb):
Rails.application.routes.draw do
  get "/articles", to: "articles#index"
  post "/articles", to: "articles#create"
  get "/articles/:id", to: "articles#show", as: "article"
end
Follow-up: What is the difference between resources and resource?
Method	    Routes   Generated        	Example
resources :users	Creates 7 RESTful routes (index, show, new, create, edit, update, destroy)	GET /users/:id/edit
resource :profile	Creates only one route per action (no index route)	GET /profile/edit
```

#### 13. How do you generate a model, controller, and migration in Rails?
Model:
```
rails generate model User name:string email:string
Creates:

app/models/user.rb
db/migrate/xxxx_create_users.rb
Controller:

rails generate controller Users index show
Creates:

app/controllers/users_controller.rb
app/views/users/index.html.erb
app/views/users/show.html.erb
Migration:


rails generate migration AddAgeToUsers age:integer
rails db:migrate

```


#### 14. What is the config/routes.rb file used for?
This file defines all application routes that map URLs to controllers and actions.

Example:

```
Rails.application.routes.draw do
  root "home#index"
  resources :articles
end
root "home#index" → Homepage
resources :articles → Generates RESTful routes

```
 What is the difference between render, redirect_to, and respond_to in controllers?
Method	Purpose	Example
render	Renders a template	render "show"
redirect_to	Redirects to another URL	redirect_to articles_path
respond_to	Responds with different formats (HTML, JSON)	`respond_to {



#### 15. What is flash in Rails? How is it different from session?
Flash Stores temporary messages that last one request.
Commonly used for notifications.

```
flash[:notice] = "Article saved!"
redirect_to articles_path
Session
Stores data across multiple requests.
Used for user authentication.
session[:user_id] = @user.id
```

#### 16. How does Rails handle sessions and cookies?
Session stores data server-side (e.g., in cookies or Redis).
Cookies store small amounts of client-side data.
```
Example (Using Sessions):
session[:user_id] = @user.id
Example (Using Cookies):

cookies[:user_id] = { value: @user.id, expires: 1.week.from_now }
```
#### 17. What is link_to in Rails views?
Used to generate HTML <a> tags dynamically.

```
<%= link_to "Home", root_path %>
Follow-up: How can you make link_to submit a form?
<%= link_to "Delete", article_path(@article), method: :delete, data: { confirm: "Are you sure?" } %>
```
#### 18. What is form_with, and how does it work?
Used to generate forms dynamically in Rails.

```
<%= form_with model: @article, local: true do |f| %>
  <%= f.text_field :title %>
  <%= f.submit "Save" %>
<% end %>
```
#### 19. What is partial in Rails views?
A partial is a reusable view component.

Usage:

```
<%= render "shared/header" %>
Follow-up: How do you pass local variables to a partial?

<%= render "article", article: @article %>
Partial _article.html.erb:


<h2><%= article.title %></h2>
```

#### 20. What is link_to in Rails views?
link_to is a Rails helper method that generates HTML anchor (<a>) tags dynamically.

Basic Usage:

```
<%= link_to "Home", root_path %>
Generates:

<a href="/">Home</a>
Follow-up: How can you make link_to submit a form?
link_to can be used to send DELETE/POST/PUT requests by specifying the method and adding data: { confirm: "Message" }.

<%= link_to "Delete", article_path(@article), method: :delete, data: { confirm: "Are you sure?" } %>
Generates:
<a href="/articles/1" data-method="delete" data-confirm="Are you sure?">Delete</a>
Rails uses JavaScript (UJS) to convert this into a DELETE request.
```

#### 21. What is form_with, and how does it work?
form_with is a Rails helper used to generate forms dynamically.

Basic Example:
```
<%= form_with model: @article, local: true do |f| %>
  <%= f.text_field :title %>
  <%= f.submit "Save" %>
<% end %>
This generates:
<form action="/articles" method="post">
  <input type="text" name="article[title]">
  <input type="submit" value="Save">
</form>
local: true prevents AJAX submissions.

```
### 22. What is a partial in Rails views?
A partial is a reusable view component that helps avoid duplication.

Example:
Create _article.html.erb:
```
<div class="article">
  <h2><%= article.title %></h2>
  <p><%= article.content %></p>
</div>
Use it in another view:
<%= render "article", article: @article %>
Follow-up: How do you pass local variables to a partial?
<%= render "article", article: @article %>
Inside _article.html.erb:
<h2><%= article.title %></h2>
```
#### 23. What is layout in Rails, and how do you use it?
Layouts define a common structure for multiple views.

Example app/views/layouts/application.html.erb:
```
<!DOCTYPE html>
<html>
<head>
  <title>My App</title>
</head>
<body>
  <%= yield %>
</body>
</html>
Each view injects its content into <%= yield %>.
```
#### 24. What is yield, and how does it work in Rails layouts?
yield acts as a placeholder for page-specific content inside a layout.

Example app/views/layouts/application.html.erb:
```
<html>
<head><title>My App</title></head>
<body>
  <%= yield %> <!-- Page-specific content goes here -->
</body>
</html>
Usage in app/views/articles/index.html.erb:

<h1>All Articles</h1>
Final Rendered Output:

<html>
<head><title>My App</title></head>
<body>
  <h1>All Articles</h1>
</body>
</html>
```

#### 25. What are helpers in Rails?
Helpers are Ruby methods used in views to keep logic out of templates.

Example Helper (app/helpers/articles_helper.rb):
```
module ArticlesHelper
  def formatted_date(date)
    date.strftime("%B %d, %Y")
  end
end
Usage in a view:

<p>Published on <%= formatted_date(@article.created_at) %></p>
```
Follow-up: When should you use a helper vs. a partial?

Use Case	    Helper	Partial
Formatting data	✅ Yes	❌ No
Repeating view elements	❌ No	✅ Yes

#### 26. What is params in Rails, and how does it work?
params stores request data (e.g., form inputs, URL parameters).

Example Controller:
```
class ArticlesController < ApplicationController
  def show
    @article = Article.find(params[:id]) # Fetch from URL
  end

  def create
    @article = Article.new(params.require(:article).permit(:title, :content)) # Form Data
  end
end
```

#### 27. What is the difference between GET, POST, PUT, and DELETE requests in Rails?
HTTP Method	Purpose	Example Usage
GET	Read data	GET /articles/1
POST	Create data	POST /articles
PUT	Update entire record	PUT /articles/1
DELETE	Delete a record	DELETE /articles/1


#### 28. What is rails routes, and how do you use it?
Lists all available routes in a Rails app.
```
rails routes
Example Output:

articles GET  /articles(.:format)  articles#index
```

#### 29. What is has_many :through, and when do you use it?
It sets up a many-to-many relationship via a join table.
```
class User < ApplicationRecord
  has_many :user_projects
  has_many :projects, through: :user_projects
end

class UserProject < ApplicationRecord
  belongs_to :user
  belongs_to :project
end

class Project < ApplicationRecord
  has_many :user_projects
  has_many :users, through: :user_projects
end
```

#### 30. What is validates in Rails models?
validates ensures data integrity before saving records.

class User < ApplicationRecord
  validates :name, presence: true, length: { minimum: 3 }
  validates :email, uniqueness: true
end
Follow-up: What are some common validation options?
Validation	Example
presence: true	Ensures value is present
uniqueness: true	Ensures unique values
length: { minimum: x }	Min character length
format: { with: /regex/ }	Custom regex validation


#### 31. What is rescue_from, and how does it work?
rescue_from handles exceptions globally in controllers.
```
class ApplicationController < ActionController::Base
  rescue_from ActiveRecord::RecordNotFound, with: :not_found

  private

  def not_found
    render plain: "404 Not Found", status: :not_found
  end
end
```

#### 32. What is rake, and how does it work in Rails?
Rake (Ruby Make) automates tasks like migrations and seeding.
```
rake db:migrate
rake db:seed
Follow-up: What is the difference between rake and rails commands?
Command	Purpose
rake	Runs tasks (e.g., migrations)
rails	Runs commands (e.g., server, console)
```
