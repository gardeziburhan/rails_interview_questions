# Ruby on Rails Technical Interview Questions:


## Basic
### 1. What is MVC?
MVC stands for **Model-View-Controller**. It is a design pattern used in Rails to separate concerns in an application:

- **Model**: Represents the data and business logic of the application. It interacts with the database to retrieve and store information.
- **View**: The presentation layer that displays the data to the user. It is typically HTML or JSON for web apps.
- **Controller**: Acts as an intermediary between the Model and View. It processes user input, calls the necessary model methods, and renders the appropriate view.

#### Example:
```
# Model
class Post < ApplicationRecord
  validates :title, presence: true
end

# Controller
class PostsController < ApplicationController
  def show
    @post = Post.find(params[:id])
  end
end

# View (show.html.erb)
<h1><%= @post.title %></h1>
<p><%= @post.body %></p>

```
2. What is ActiveRecord?
ActiveRecord is the Object-Relational Mapping (ORM) layer in Rails that facilitates communication between the application and the database. It maps database tables to Ruby classes, allowing you to interact with the database using Ruby objects.

ActiveRecord automatically handles CRUD operations.
It allows you to query, insert, update, and delete database records without needing to write raw SQL.
Example:
```
# Finding a record
user = User.find(1)

# Creating a new record
user = User.create(name: "John", email: "john@example.com")

# Updating a record
user.update(name: "John Doe")

# Deleting a record
user.destroy
```
3. What are callbacks in Rails?
Callbacks in Rails are methods that get called at certain points of an object's lifecycle. They allow you to hook into and modify the behavior of ActiveRecord objects before or after certain events, such as saving, updating, or destroying records.

Common Callbacks:
before_save, after_save
before_create, after_create
before_update, after_update
before_destroy, after_destroy
Example:
```

class Post < ApplicationRecord
  before_save :set_default_title

  private

  def set_default_title
    self.title = "Untitled" if title.blank?
  end
end
```
4. What is mass assignment?
Mass assignment occurs when you assign values to multiple attributes of an object at once, typically using the update or create methods. This is a feature in Rails that lets you assign values to several attributes in a single step.

Mass assignment vulnerability occurs when an attacker can update attributes that they shouldn't be allowed to, such as sensitive fields.

Example of mass assignment:
```
# Allowed attributes: name, email
user = User.new(name: "John", email: "john@example.com", admin: true)  # admin should not be assignable!
Follow-up: How do you protect your app against it?
You can prevent mass assignment vulnerabilities by using strong parameters in Rails, which explicitly define which attributes are allowed to be mass-assigned.



class UsersController < ApplicationController
  def user_params
    params.require(:user).permit(:name, :email)  # Only allow name and email
  end
end
```


5. What is CSRF?
Cross-Site Request Forgery (CSRF) is an attack where a malicious website can send unauthorized requests to a web application where the user is already authenticated. It tricks the user into performing an unintended action.

Follow-up: How is it handled in Rails?
Rails protects against CSRF by using a CSRF token. This token is generated on each form and ensures that the request came from your site and not from an external source.

Rails includes the token in every form by default, and it’s checked on form submissions.

Example:
```
<%= form_with(url: posts_path, method: :post) do %>
  <%= text_field_tag :title %>
  <%= submit_tag "Create Post" %>
<% end %>
```
Rails automatically includes a hidden CSRF token in forms generated by form_with.

6. How do you handle database migrations in Rails?
Database migrations in Rails are used to manage changes to the database schema over time. They allow you to version-control your database structure, making it easy to roll back or apply changes.

Migrations are stored in files in the db/migrate directory.
They can be run using rails db:migrate.
Example:
```
# Migration to add a title column to the posts table
class AddTitleToPosts < ActiveRecord::Migration[6.0]
  def change
    add_column :posts, :title, :string
  end
end
Run the migration:

rails db:migrate
```
7. What is a scope?
A scope in Rails is a way to define commonly-used queries that can be reused throughout the application. It’s defined within the model and is typically used to simplify querying the database.

Example:
```
class Post < ApplicationRecord
  scope :published, -> { where(published: true) }
  scope :recent, -> { order(created_at: :desc).limit(5) }
end

# Usage
Post.published.recent
```
8. What is the difference between has_one and belongs_to?
has_one: This association indicates that one object can have one related object. It is typically used on the "one" side of a relationship.
belongs_to: This association indicates that an object belongs to another object. It is used on the "many" side of the relationship.
Example:
```
class Author < ApplicationRecord
  has_one :profile  # Author has one profile
end

class Profile < ApplicationRecord
  belongs_to :author  # Profile belongs to an author
end

In this case, an Author has one Profile, and a Profile belongs to an Author.
```
